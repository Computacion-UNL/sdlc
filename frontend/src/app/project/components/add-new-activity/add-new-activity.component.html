<div class="modal-header">
  <h4 class="modal-title" id="modal-basic-title">Nueva actividad</h4>
  <button
    type="button"
    class="close"
    aria-label="Close"
    (click)="activeModal.dismiss()"
  >
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <div class="card bordered item_box">
    <div class="card-header">Detalles de la actividad</div>
    <div class="card-body p-4">
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <fieldset [disabled]="loading">
          <div class="row mb-3">
            <div class="col">
              <label for="act_name" class="form-label">Nombre</label>
              <input
                formControlName="name"
                type="text"
                class="form-control"
                id="act_name"
                placeholder="Especificar un nombre"
                autocomplete="off"
                [ngClass]="{ 'is-invalid': submitted && f['name'].errors }"
              />
              <div
                *ngIf="submitted && f['name'].errors"
                class="invalid-feedback"
              >
                <div *ngIf="f['name'].errors['required']">
                  El nombre es requerido
                </div>
                <div *ngIf="f['name'].errors['whitespace']">
                  No se permiten Ãºnicamente espacios en blanco
                </div>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <label for="act_start_date" class="form-label"
                >Fecha de Inicio</label
              >
              <input
                formControlName="start_date"
                type="date"
                class="form-control"
                id="act_start_date"
                placeholder="Especificar fecha de inicio"
                autocomplete="off"
                [ngClass]="{
                  'is-invalid': submitted && f['start_date'].errors
                }"
              />
              <div
                *ngIf="submitted && f['start_date'].errors"
                class="invalid-feedback"
              >
                <div *ngIf="f['start_date'].errors['required']">
                  La fecha de inicio es requerida
                </div>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col">
              <label for="act_finish_date" class="form-label"
                >Fecha Final</label
              >
              <input
                formControlName="finish_date"
                type="date"
                class="form-control"
                id="act_finish_date"
                placeholder="Especificar fecha final"
                autocomplete="off"
                [ngClass]="{
                  'is-invalid': submitted && f['finish_date'].errors
                }"
              />
              <div
                *ngIf="submitted && f['finish_date'].errors"
                class="invalid-feedback"
              >
                <div *ngIf="f['finish_date'].errors['required']">
                  La fecha final es requerida
                </div>
                <div *ngIf="f['finish_date'].errors['dateLessThan']">
                  La fecha final debe ser mayor o igual a la de <b>inicio</b>
                </div>
              </div>
            </div>
          </div>
          <hr />
          <div class="d-grid gap-3 d-flex justify-content-end">
            <button
              type="button"
              class="btn btn-secondary"
              (click)="activeModal.dismiss()"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">
              Guardar
            </button>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>
